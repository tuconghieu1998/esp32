<main class="content">
    <div class="container-fluid p-0">
        <div class="container py-4">
            <div id="productGrid" class="row g-4 justify-content-center"></div>
        </div>
    </div>
</main>
<script>
    $(document).ready(function () {
        $.ajax({
            url: `/stock/api/products`,
            method: 'GET',
            success: function (response) {
                const { products } = response;
                console.log(products);

                const $container = $('#productGrid');
                $container.empty(); // Clear if already populated

                products.forEach(product => {
                    const card = `
                    <div class="col-auto d-flex justify-content-center">
                        <div class="card" style="width: 500px; height: 500px;">
                            <img src="${product.image}" class="card-img-top" alt="${product.name}" style="height: 60%; object-fit: cover;">
                            <div class="card-body d-flex flex-column justify-content-between" style="height: 40%;">
                                <h5 class="card-title">${product.name}</h5>
                                <p class="card-text">Quantity: <strong>${product.quantity}</strong></p>
                            </div>
                        </div>
                    </div>
                `;
                    $container.append(card);
                });
            },
            error: function () {
                alert("Failed to load product data.");
            }
        });
    });
</script>